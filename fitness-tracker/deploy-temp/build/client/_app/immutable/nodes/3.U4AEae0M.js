import"../chunks/DsnmJJEf.js";import{i as F}from"../chunks/U8tUl6eG.js";import{aM as z,aN as G,k as O,h as H,v as L,V as U,aO as X,O as I,aI as W,J as B,S as s,Q as o,R as l,aP as V,K as N,y as t,I as P,P as C,aQ as h,a2 as w,D as Y,$ as Z}from"../chunks/DmoEL9Oe.js";import{c as q,s as Q,e as T}from"../chunks/Wt3tS8zE.js";import{i as ee}from"../chunks/B2n_k7q2.js";import{s as J}from"../chunks/DBgR-PCb.js";import{g as te}from"../chunks/9pyw65pj.js";import{r as D}from"../chunks/Duw2vXc8.js";function k(a,n,d=n){var e=z(),i=new WeakSet;G(a,"input",m=>{var r=m?a.defaultValue:a.value;if(r=M(a)?E(r):r,d(r),O!==null&&i.add(O),e&&r!==(r=n())){var c=a.selectionStart,f=a.selectionEnd;a.value=r??"",f!==null&&(a.selectionStart=c,a.selectionEnd=Math.min(f,a.value.length))}}),(H&&a.defaultValue!==a.value||L(n)==null&&a.value)&&(d(M(a)?E(a.value):a.value),O!==null&&i.add(O)),U(()=>{var m=n();if(a===document.activeElement){var r=X??O;if(i.has(r))return}M(a)&&m===E(a.value)||a.type==="date"&&!m&&!a.value||m!==a.value&&(a.value=m??"")})}function M(a){var n=a.type;return n==="number"||n==="range"}function E(a){return a===""?null:+a}function K(a){return function(...n){var d=n[0];return d.preventDefault(),a?.apply(this,n)}}var ae=B(`<form class="measurement-form svelte-okg03m"><h2 class="svelte-okg03m">Add Body Measurement</h2> <div class="form-grid svelte-okg03m"><div class="form-group svelte-okg03m"><label for="date" class="svelte-okg03m">Date</label> <input type="date" id="date" required class="svelte-okg03m"/></div> <div class="form-group svelte-okg03m"><label for="weight" class="svelte-okg03m">Weight (lbs)</label> <input type="number" id="weight" step="0.1" placeholder="e.g. 150.5" class="svelte-okg03m"/></div> <div class="form-group svelte-okg03m"><label for="body_fat" class="svelte-okg03m">Body Fat %</label> <input type="number" id="body_fat" step="0.1" placeholder="e.g. 15.2" class="svelte-okg03m"/></div> <div class="form-group svelte-okg03m"><label for="muscle_mass" class="svelte-okg03m">Muscle Mass (lbs)</label> <input type="number" id="muscle_mass" step="0.1" placeholder="e.g. 125.0" class="svelte-okg03m"/></div></div> <div class="form-group full-width svelte-okg03m"><label for="notes" class="svelte-okg03m">Notes</label> <textarea id="notes" placeholder="Any notes about your measurements, diet, or how you're feeling..." rows="3" class="svelte-okg03m"></textarea></div> <div class="form-actions svelte-okg03m"><button type="submit" class="submit-btn svelte-okg03m"> </button></div></form>`);function se(a,n){I(n,!1);const d=q();let e=W({date:new Date().toISOString().split("T")[0],weight:"",body_fat_percentage:"",muscle_mass:"",notes:""}),i=W(!1);async function m(){if(!t(i)){w(i,!0);try{(await fetch("/api/body-measurements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t(e),weight:t(e).weight?parseFloat(t(e).weight):null,body_fat_percentage:t(e).body_fat_percentage?parseFloat(t(e).body_fat_percentage):null,muscle_mass:t(e).muscle_mass?parseFloat(t(e).muscle_mass):null})})).ok?(d("measurementAdded"),w(e,{date:new Date().toISOString().split("T")[0],weight:"",body_fat_percentage:"",muscle_mass:"",notes:""})):console.error("Failed to save body measurement")}catch(b){console.error("Error saving body measurement:",b)}finally{w(i,!1)}}}F();var r=ae(),c=s(o(r),2),f=o(c),p=s(o(f),2);D(p),l(f);var _=s(f,2),y=s(o(_),2);D(y),l(_);var g=s(_,2),x=s(o(g),2);D(x),l(g);var j=s(g,2),S=s(o(j),2);D(S),l(j),l(c);var u=s(c,2),A=s(o(u),2);V(A),l(u);var $=s(u,2),v=o($),R=o(v,!0);l(v),l($),l(r),N(()=>{v.disabled=t(i),Q(R,t(i)?"Saving...":"Save Measurement")}),k(p,()=>t(e).date,b=>h(e,t(e).date=b)),k(y,()=>t(e).weight,b=>h(e,t(e).weight=b)),k(x,()=>t(e).body_fat_percentage,b=>h(e,t(e).body_fat_percentage=b)),k(S,()=>t(e).muscle_mass,b=>h(e,t(e).muscle_mass=b)),k(A,()=>t(e).notes,b=>h(e,t(e).notes=b)),T("submit",r,K(m)),P(a,r),C()}var re=B('<form class="workout-form svelte-1xijj00"><h2 class="svelte-1xijj00">Add Workout</h2> <div class="form-grid svelte-1xijj00"><div class="form-group svelte-1xijj00"><label for="date" class="svelte-1xijj00">Date</label> <input type="date" id="date" required class="svelte-1xijj00"/></div> <div class="form-group svelte-1xijj00"><label for="workout_duration" class="svelte-1xijj00">Workout Duration (minutes)</label> <input type="number" id="workout_duration" placeholder="e.g. 45" class="svelte-1xijj00"/></div> <div class="form-group svelte-1xijj00"><label for="calories_burned" class="svelte-1xijj00">Calories Burned</label> <input type="number" id="calories_burned" placeholder="e.g. 300" class="svelte-1xijj00"/></div></div> <div class="form-group full-width svelte-1xijj00"><label for="notes" class="svelte-1xijj00">Notes</label> <textarea id="notes" placeholder="Workout details, exercises performed, how you felt..." rows="4" class="svelte-1xijj00"></textarea></div> <div class="form-actions svelte-1xijj00"><button type="submit" class="submit-btn svelte-1xijj00"> </button></div></form>');function oe(a,n){I(n,!1);const d=q();let e=W({date:new Date().toISOString().split("T")[0],workout_duration:"",calories_burned:"",notes:""}),i=W(!1);async function m(){if(!t(i)){w(i,!0);try{(await fetch("/api/workouts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t(e),workout_duration:t(e).workout_duration?parseInt(t(e).workout_duration):null,calories_burned:t(e).calories_burned?parseInt(t(e).calories_burned):null})})).ok?(d("workoutAdded"),w(e,{date:new Date().toISOString().split("T")[0],workout_duration:"",calories_burned:"",notes:""})):console.error("Failed to save workout")}catch(v){console.error("Error saving workout:",v)}finally{w(i,!1)}}}F();var r=re(),c=s(o(r),2),f=o(c),p=s(o(f),2);D(p),l(f);var _=s(f,2),y=s(o(_),2);D(y),l(_);var g=s(_,2),x=s(o(g),2);D(x),l(g),l(c);var j=s(c,2),S=s(o(j),2);V(S),l(j);var u=s(j,2),A=o(u),$=o(A,!0);l(A),l(u),l(r),N(()=>{A.disabled=t(i),Q($,t(i)?"Saving...":"Save Workout")}),k(p,()=>t(e).date,v=>h(e,t(e).date=v)),k(y,()=>t(e).workout_duration,v=>h(e,t(e).workout_duration=v)),k(x,()=>t(e).calories_burned,v=>h(e,t(e).calories_burned=v)),k(S,()=>t(e).notes,v=>h(e,t(e).notes=v)),T("submit",r,K(m)),P(a,r),C()}var le=B('<div class="admin-page svelte-v9ju7m"><header class="svelte-v9ju7m"><h1 class="svelte-v9ju7m">Admin - Add New Entry</h1> <button class="dashboard-btn svelte-v9ju7m">‚Üê Back to Dashboard</button></header> <div class="tabs svelte-v9ju7m"><button>Body Measurement</button> <button>Workout</button></div> <div class="tab-content svelte-v9ju7m"><!></div></div>');function be(a,n){I(n,!1);let d=W("measurements");async function e(){alert("Body measurement saved successfully!")}async function i(){alert("Workout saved successfully!")}function m(){te("/")}F();var r=le();Y(u=>{Z.title="Admin - Add Entry"});var c=o(r),f=s(o(c),2);l(c);var p=s(c,2),_=o(p),y=s(_,2);l(p);var g=s(p,2),x=o(g);{var j=u=>{se(u,{$$events:{measurementAdded:e}})},S=u=>{oe(u,{$$events:{workoutAdded:i}})};ee(x,u=>{t(d)==="measurements"?u(j):u(S,!1)})}l(g),l(r),N(()=>{J(_,1,`tab-btn ${t(d)==="measurements"?"active":""}`,"svelte-v9ju7m"),J(y,1,`tab-btn ${t(d)==="workouts"?"active":""}`,"svelte-v9ju7m")}),T("click",f,m),T("click",_,()=>w(d,"measurements")),T("click",y,()=>w(d,"workouts")),P(a,r),C()}export{be as component};

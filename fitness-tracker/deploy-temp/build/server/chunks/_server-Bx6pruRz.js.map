{"version":3,"file":"_server-Bx6pruRz.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/workouts/_server.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { s as statements } from \"../../../../chunks/db.js\";\nasync function GET({ url }) {\n  const limit = url.searchParams.get(\"limit\") || \"50\";\n  const startDate = url.searchParams.get(\"start_date\");\n  const endDate = url.searchParams.get(\"end_date\");\n  try {\n    let workouts;\n    if (startDate && endDate) {\n      workouts = statements.getWorkoutsByDateRange.all({ start_date: startDate, end_date: endDate });\n    } else {\n      workouts = statements.getWorkouts.all(parseInt(limit));\n    }\n    return json(workouts);\n  } catch (error) {\n    console.error(\"Error fetching workouts:\", error);\n    return json({ error: \"Failed to fetch workouts\" }, { status: 500 });\n  }\n}\nasync function POST({ request }) {\n  try {\n    const data = await request.json();\n    const result = statements.insertWorkout.run({\n      date: data.date,\n      workout_duration: data.workout_duration || null,\n      calories_burned: data.calories_burned || null,\n      notes: data.notes || null\n    });\n    return json({ id: result.lastInsertRowid, success: true });\n  } catch (error) {\n    console.error(\"Error creating workout:\", error);\n    return json({ error: \"Failed to create workout\" }, { status: 500 });\n  }\n}\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE;AAC5B,EAAE,MAAM,KAAK,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI;AACrD,EAAE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC;AACtD,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC;AAClD,EAAE,IAAI;AACN,IAAI,IAAI,QAAQ;AAChB,IAAI,IAAI,SAAS,IAAI,OAAO,EAAE;AAC9B,MAAM,QAAQ,GAAG,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;AACpG,IAAI,CAAC,MAAM;AACX,MAAM,QAAQ,GAAG,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC5D,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,QAAQ,CAAC;AACzB,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC;AACpD,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACvE,EAAE;AACF;AACA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,MAAM,MAAM,GAAG,UAAU,CAAC,aAAa,CAAC,GAAG,CAAC;AAChD,MAAM,IAAI,EAAE,IAAI,CAAC,IAAI;AACrB,MAAM,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,IAAI,IAAI;AACrD,MAAM,eAAe,EAAE,IAAI,CAAC,eAAe,IAAI,IAAI;AACnD,MAAM,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI;AAC3B,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC9D,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC;AACnD,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AACvE,EAAE;AACF;;;;"}
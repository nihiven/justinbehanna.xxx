{"version":3,"file":"_server-D1oKJ9D0.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/body-measurements/_server.js"],"sourcesContent":["import { json } from \"@sveltejs/kit\";\nimport { s as statements } from \"../../../../chunks/db.js\";\nasync function GET({ url }) {\n  const limit = url.searchParams.get(\"limit\") || \"50\";\n  const startDate = url.searchParams.get(\"start_date\");\n  const endDate = url.searchParams.get(\"end_date\");\n  try {\n    let bodyMeasurements;\n    if (startDate && endDate) {\n      bodyMeasurements = statements.getBodyMeasurementsByDateRange.all({ start_date: startDate, end_date: endDate });\n    } else {\n      bodyMeasurements = statements.getBodyMeasurements.all(parseInt(limit));\n    }\n    return json(bodyMeasurements);\n  } catch (error) {\n    console.error(\"Error fetching body measurements:\", error);\n    return json({ error: \"Failed to fetch body measurements\" }, { status: 500 });\n  }\n}\nasync function POST({ request }) {\n  try {\n    const data = await request.json();\n    const result = statements.insertBodyMeasurement.run({\n      date: data.date,\n      weight: data.weight || null,\n      body_fat_percentage: data.body_fat_percentage || null,\n      muscle_mass: data.muscle_mass || null,\n      notes: data.notes || null\n    });\n    return json({ id: result.lastInsertRowid, success: true });\n  } catch (error) {\n    console.error(\"Error creating body measurement:\", error);\n    return json({ error: \"Failed to create body measurement\" }, { status: 500 });\n  }\n}\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;;;AAEA,eAAe,GAAG,CAAC,EAAE,GAAG,EAAE,EAAE;AAC5B,EAAE,MAAM,KAAK,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI;AACrD,EAAE,MAAM,SAAS,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC;AACtD,EAAE,MAAM,OAAO,GAAG,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC;AAClD,EAAE,IAAI;AACN,IAAI,IAAI,gBAAgB;AACxB,IAAI,IAAI,SAAS,IAAI,OAAO,EAAE;AAC9B,MAAM,gBAAgB,GAAG,UAAU,CAAC,8BAA8B,CAAC,GAAG,CAAC,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;AACpH,IAAI,CAAC,MAAM;AACX,MAAM,gBAAgB,GAAG,UAAU,CAAC,mBAAmB,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC5E,IAAI;AACJ,IAAI,OAAO,IAAI,CAAC,gBAAgB,CAAC;AACjC,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,mCAAmC,EAAE,KAAK,CAAC;AAC7D,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,mCAAmC,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAChF,EAAE;AACF;AACA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,MAAM,IAAI,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE;AACrC,IAAI,MAAM,MAAM,GAAG,UAAU,CAAC,qBAAqB,CAAC,GAAG,CAAC;AACxD,MAAM,IAAI,EAAE,IAAI,CAAC,IAAI;AACrB,MAAM,MAAM,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI;AACjC,MAAM,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,IAAI,IAAI;AAC3D,MAAM,WAAW,EAAE,IAAI,CAAC,WAAW,IAAI,IAAI;AAC3C,MAAM,KAAK,EAAE,IAAI,CAAC,KAAK,IAAI;AAC3B,KAAK,CAAC;AACN,IAAI,OAAO,IAAI,CAAC,EAAE,EAAE,EAAE,MAAM,CAAC,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAC9D,EAAE,CAAC,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,CAAC,KAAK,CAAC,kCAAkC,EAAE,KAAK,CAAC;AAC5D,IAAI,OAAO,IAAI,CAAC,EAAE,KAAK,EAAE,mCAAmC,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;AAChF,EAAE;AACF;;;;"}